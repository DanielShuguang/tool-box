# 通用规范

## 注释规范

- 复杂函数应添加 JSDoc 注释，包括参数说明、返回值和示例
- 参数说明中，参数和说明中间使用 - 分隔
- 公共 API 必须有完整的文档注释
- 代码中的特殊处理和非直观逻辑必须要添加注释说明
- 使用 TODO、FIXME 等标记指明需要改进的地方

## 代码组织规范

- 在每次生成代码后，根据 eslint 规则检查代码中的 eslint 错误，并进行修复
- 保持函数较低的圈复杂度，单个函数不超过 30 行
- 函数参数数量不超过 3 个，超过 3 个参数时考虑使用对象参数进行传递
- 相关功能应放在同一个模块中，遵循单一职责原则
- 及时抽离复杂代码进行重构
- 使用命名导出而非默认导出，提高代码可读性
- 保持导入语句的一致顺序：第三方库 > 自定义模块 > 类型导入
- 导入语句分组并按字母顺序排序

# typescript 规范

## 类型系统规范

- 必须使用严格的 TypeScript 类型定义，避免使用`any`类型
- 优先使用接口（interface）定义对象结构，只在需要联合类型或交叉类型时使用类型别名（type）
- 使用泛型增强代码复用性和类型安全性
- 所有函数必须有明确的参数类型和返回值类型
- 使用只读属性（readonly）保护不应被修改的数据
- 枚举类型使用 Pascal 命名法（PascalCase）
- 合理使用可选属性（?）和联合类型（|）处理多变的数据结构

## 错误处理规范

- 优先使用自定义类型保证类型安全，而非运行时检查
- 使用类型谓词（type predicates）进行类型守卫
- 异步函数应合理处理异常，使用 try/catch 或 Promise 的 catch 方法
- 避免空捕获异常（empty catch blocks）
- 对于可能为 undefined 或 null 的值使用可选链操作符（?.）和空值合并操作符（??）

## 性能优化规范

- 避免过度使用类型断言（type assertion）
- 合理使用类型推导，减少冗余的类型标注

请根据以上规范生成高质量、易维护、用户友好的代码。
