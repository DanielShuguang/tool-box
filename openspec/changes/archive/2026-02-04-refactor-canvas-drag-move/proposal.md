## 为什么

画板应用中通过"空格键 + 拖拽"来平移画布的功能存在两个严重 bug：

1. **按下空格键时光标无任何变化**：用户无法感知已进入平移模式
2. **无法正常拖拽**：由于状态同步问题和事件处理逻辑缺陷，拖拽操作完全失效

这导致用户无法通过空格键平移画布，严重影响用户体验，必须立即修复。

## 变更内容

### 核心修复（必选）

- **修复空格键光标反馈**：按下空格键时立即将画布光标切换为 `grab` 样式，释放后恢复
- **修复拖拽状态同步**：确保 `isPanning` 状态正确同步，避免竞态条件
- **优化事件处理逻辑**：简化状态管理，消除潜在的竞态条件

### 可选优化

- 添加键盘事件的前置检查，避免在输入框等场景下触发平移模式
- 优化光标样式的 CSS 过渡效果

## 功能 (Capabilities)

### 新增功能

- 无新增功能

### 修改功能

- `canvas-drag-pan`: 现有的画布拖拽平移功能需要修复和优化

## 影响

### 受影响的代码

- `src/views/CanvasBoard/components/CanvasContainer.vue`：修复空格键事件处理和光标状态管理
- `src/views/CanvasBoard/hooks/useCanvasCore.ts`：可能需要调整 `isPanning` 状态的同步机制

### 测试覆盖

- 需要验证以下场景：
  - 按下空格键时光标立即变为 `grab`
  - 按住空格键并拖拽鼠标可以正确平移画布
  - 释放空格键后光标恢复，光标位置正确
  - 不影响其他画布操作（缩放、选择、绘制等）

### 无破坏性变更

- 此修复不涉及 API 变更
- 不影响现有功能的使用方式
