## 新增需求

### 需求：空格键按下时光标反馈
当用户按下空格键时，画布区域的光标样式必须立即切换为 `grab`，表示已进入平移模式。

#### 场景：按下空格键时光标变化
- **当** 用户在画布区域按下空格键且不在输入框中
- **那么** 画布光标立即变为 `grab` 样式

#### 场景：释放空格键时光标恢复
- **当** 用户释放空格键
- **那么** 画布光标恢复为默认样式（如果在非拖拽状态）

### 需求：按住空格键拖拽平移画布
当用户按住空格键并拖拽鼠标时，画布必须能够正确平移。

#### 场景：按住空格键拖拽时光标保持
- **当** 用户按住空格键后按下鼠标并拖拽
- **那么** 画布光标保持为 `grab` 样式

#### 场景：拖拽时画布正确平移
- **当** 用户按住空格键，按下鼠标，并在画布上移动鼠标
- **那么** 画布内容随鼠标移动方向反向平移

#### 场景：释放鼠标或空格键时停止平移
- **当** 用户在平移过程中释放鼠标按钮
- **那么** 画布停止平移
- **并且** 如果空格键仍被按住，光标保持 `grab`
- **当** 用户在平移过程中释放空格键
- **那么** 画布停止平移
- **并且** 光标恢复为默认样式

### 需求：输入框保护
当焦点在输入框或文本区域时，空格键不应触发平移模式。

#### 场景：输入框中按下空格键不触发平移
- **当** 焦点位于 `<input>` 或 `<textarea>` 元素上
- **那么** 按下空格键不改变画布光标样式
- **并且** 后续的拖拽操作不会触发平移

## 修改需求

### 需求：平移状态同步
系统必须确保平移相关的所有状态保持同步，避免竞态条件。

#### 场景：isPanning 状态准确反映当前平移状态
- **当** 系统响应任何用户交互（键盘或鼠标）
- **那么** `isPanning` 状态必须准确反映当前是否处于平移模式
- **并且** 光标样式必须与 `isPanning` 状态一致

## 移除需求

无
