## 新增需求

### 需求：撤销功能
系统必须支持撤销最近的操作，将画布恢复到之前的状态。

#### 场景：成功撤销
- **当** 用户点击撤销按钮或按下 Ctrl+Z 快捷键，且历史记录中有可撤销的状态
- **那么** 画布内容恢复到上一个状态，撤销按钮变为可用或不可用（取决于是否还有更早的状态）

#### 场景：无历史可撤销
- **当** 用户点击撤销按钮或按下 Ctrl+Z 快捷键，但当前已经是最初状态
- **那么** 撤销操作不执行，撤销按钮保持不可用状态

### 需求：恢复功能
系统必须支持恢复被撤销的操作，将画布恢复到之后的状态。

#### 场景：成功恢复
- **当** 用户点击恢复按钮或按下 Ctrl+Y 快捷键，且历史记录中有可恢复的状态
- **那么** 画布内容恢复到下一个状态，恢复按钮变为可用或不可用（取决于是否还有更晚的状态）

#### 场景：无历史可恢复
- **当** 用户点击恢复按钮或按下 Ctrl+Y 快捷键，但当前已经是最新状态
- **那么** 恢复操作不执行，恢复按钮保持不可用状态

### 需求：历史状态记录
系统必须在用户进行操作时自动保存画布状态到历史栈中。

#### 场景：记录新状态
- **当** 用户完成一个操作（如移动对象、修改属性、添加图形等）
- **那么** 系统将当前画布状态保存到历史栈中

#### 场景：添加新状态时清除后续历史
- **当** 用户在有恢复历史的情况下进行新操作
- **那么** 系统清除当前状态之后的所有历史记录，并添加新状态

### 需求：历史栈容量限制
系统必须限制历史栈的最大容量，防止内存占用过高。

#### 场景：超过最大容量
- **当** 历史栈已达到最大容量（30条），用户进行新操作
- **那么** 系统删除最旧的历史记录，添加新记录到栈顶
