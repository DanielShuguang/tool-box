## 新增需求

### 需求：多播放列表支持

系统必须支持用户创建和管理多个播放列表，每个播放列表独立存储音频文件。

#### 场景：创建新播放列表

- **当** 用户点击创建播放列表按钮
- **那么** 系统必须提示用户输入播放列表名称
- **并且** 系统必须创建一个新的播放列表
- **并且** 新播放列表必须包含唯一标识符
- **并且** 新播放列表初始为空（不包含任何音频文件）
- **并且** 系统必须自动切换到新创建的播放列表

#### 场景：删除播放列表

- **当** 用户尝试删除一个非默认播放列表
- **那么** 系统必须删除该播放列表
- **并且** 如果被删除的播放列表是当前播放列表，系统必须切换到默认播放列表
- **并且** 如果被删除的播放列表正在播放，系统必须停止播放

#### 场景：删除默认播放列表

- **当** 用户尝试删除默认播放列表
- **那么** 系统必须禁止删除操作
- **并且** 系统必须提示用户默认播放列表不可删除

#### 场景：重命名播放列表

- **当** 用户尝试重命名一个非默认播放列表
- **那么** 系统必须允许用户修改播放列表名称
- **并且** 系统必须验证播放列表名称的唯一性
- **并且** 系统必须更新播放列表名称

#### 场景：重命名默认播放列表

- **当** 用户尝试重命名默认播放列表
- **那么** 系统必须禁止重命名操作
- **并且** 系统必须提示用户默认播放列表不可重命名

#### 场景：切换播放列表

- **当** 用户点击播放列表列表中的某个播放列表
- **那么** 系统必须切换到该播放列表
- **并且** 系统必须显示该播放列表中的所有音频文件
- **并且** 系统必须保持该播放列表的排序和搜索状态
- **并且** 如果切换前正在播放，系统必须继续播放当前音频（如果新播放列表包含该音频）

#### 场景：播放列表列表显示

- **当** 用户打开音乐播放器页面
- **那么** 系统必须在播放列表面板左侧显示播放列表列表
- **并且** 播放列表列表必须显示所有播放列表的名称
- **并且** 当前激活的播放列表必须高亮显示
- **并且** 默认播放列表必须显示在列表顶部

#### 场景：默认播放列表初始化

- **当** 用户首次使用音乐播放器或没有播放列表数据
- **那么** 系统必须自动创建一个默认播放列表
- **并且** 默认播放列表的名称必须为"默认播放列表"
- **并且** 默认播放列表必须标记为默认（`isDefault: true`）
- **并且** 系统必须自动选中默认播放列表

#### 场景：播放列表数据持久化

- **当** 用户创建、删除或修改播放列表
- **那么** 系统必须立即保存所有播放列表数据到本地存储
- **并且** 系统必须保存当前选中的播放列表 ID

#### 场景：播放列表数据恢复

- **当** 用户重新打开应用
- **那么** 系统必须从本地存储恢复所有播放列表数据
- **并且** 系统必须恢复当前选中的播放列表
- **并且** 系统必须恢复每个播放列表的排序和搜索状态

## 修改需求

### 需求：播放列表管理

系统必须支持在多个播放列表之间管理音频文件，每个播放列表独立维护其音频文件列表。

#### 场景：添加音频文件到当前播放列表

- **当** 用户通过文件夹选择或拖拽方式导入音频文件
- **那么** 系统必须将音频文件添加到当前选中的播放列表
- **并且** 系统必须更新当前播放列表的显示

#### 场景：从当前播放列表删除音频文件

- **当** 用户从当前播放列表删除音频文件
- **那么** 系统必须仅从当前播放列表中移除该音频文件
- **并且** 其他播放列表中的相同音频文件不受影响
- **并且** 如果被删除的音频文件正在播放，系统必须停止播放

#### 场景：清空当前播放列表

- **当** 用户清空当前播放列表
- **那么** 系统必须仅清空当前选中的播放列表
- **并且** 其他播放列表不受影响
- **并且** 如果当前播放列表正在播放，系统必须停止播放

#### 场景：播放列表排序

- **当** 用户对当前播放列表进行排序
- **那么** 系统必须仅更新当前播放列表的排序状态
- **并且** 其他播放列表的排序状态不受影响
- **并且** 系统必须保存当前播放列表的排序选项和顺序

#### 场景：播放列表搜索

- **当** 用户在播放列表面板中搜索音频文件
- **那么** 系统必须仅搜索当前播放列表中的音频文件
- **并且** 其他播放列表不受影响
- **并且** 切换播放列表时，搜索状态必须重置

